<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>黑板翻牌：字母救援任務</title>
  <style>
    body{
      margin:0;
      background:#0b0f0c;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      font-family: "Noto Sans TC","Microsoft JhengHei",system-ui,sans-serif;
    }
    .stage{
      width:1280px;
      aspect-ratio:16/9;
      background:#0d1f16;
      color:#f3f1e8;
      border-radius:20px;
      box-shadow:0 20px 50px rgba(0,0,0,.4);
      padding:24px;
      box-sizing:border-box;
      position:relative;
    }
    h1{
      text-align:center;
      margin:0;
      font-size:32px;
      letter-spacing:2px;
    }
    .buttons{
      position:absolute;
      top:24px;
      right:24px;
      display:flex;
      gap:12px;
    }
    button{
      background:#1f3d2b;
      border:1px solid #f3f1e8;
      color:#f3f1e8;
      padding:10px 16px;
      border-radius:12px;
      font-size:16px;
      cursor:pointer;
    }
    button:hover{background:#2a5740;}
    .cards{
      display:grid;
      grid-template-columns:repeat(5,1fr);
      gap:16px;
      margin-top:80px;
      height:320px;
    }
    .card{
      perspective:1000px;
      cursor:pointer;
    }
    .inner{
      position:relative;
      width:100%;
      height:100%;
      transform-style:preserve-3d;
      transition:.6s;
    }
    .card.flip .inner{transform:rotateY(180deg);}
    .face{
      position:absolute;
      inset:0;
      border:2px solid #f3f1e8;
      border-radius:16px;
      display:flex;
      align-items:center;
      justify-content:center;
      backface-visibility:hidden;
      background:#143022;
    }
    .front{
      font-size:80px;
      font-weight:900;
    }
    .back{
      transform:rotateY(180deg);
      flex-direction:column;
      font-size:24px;
      gap:8px;
    }
    .desc{
      position:absolute;
      bottom:24px;
      left:24px;
      font-size:16px;
      line-height:1.6;
    }
  </style>
</head>
<body>

<div class="stage">
  <h1>黑板翻牌：字母救援任務</h1>

  <div class="buttons">
    <button onclick="loadPreset()">預設題目</button>
    <button onclick="loadRandom()">隨機題目</button>
  </div>

  <div class="cards" id="cards"></div>

  <div class="desc">
    選擇題目後，五人一組，每人翻一張卡片。<br>
    翻牌後的英文＋中文就是正解。<br>
    全組完成即可獲得獎勵。
  </div>
</div>

<script>
const vocab={
  a:[["area","區域"],["attack","攻擊"]],
  b:[["bake","烘烤"],["bench","長椅"],["boil","煮"]],
  c:[["code","程式"],["cross","穿越"]],
  e:[["error","錯誤"]],
  f:[["fill up","裝滿"],["files","檔案"]],
  g:[["gate","大門"]],
  l:[["lamp","燈"],["list","清單"]],
  p:[["pack","打包"],["pocket","口袋"],["product","產品"]],
  q:[["quiz","小考"]],
  s:[["screen","螢幕"],["show up","出現"],["slide","滑動"]],
  t:[["toilet","廁所"],["types","類型"]],
  w:[["wallet","錢包"]]
};

const presets=[
  ["g","e","w","q","a"],
  ["b","a","g","e","w"],
  ["a","b","w","e","p"],
  ["s","s","s","s","s"],
  ["g","a","p","e","l"]
];

const cardsEl=document.getElementById("cards");

function draw(letters){
  cardsEl.innerHTML="";
  let used=new Set();
  letters.forEach(l=>{
    let pool=vocab[l];
    let word;
    do{
      word=pool[Math.floor(Math.random()*pool.length)];
    }while(used.has(word[0]));
    used.add(word[0]);

    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <div class="inner">
        <div class="face front">${l}</div>
        <div class="face back">
          <div>${word[0]}</div>
          <div>${word[1]}</div>
        </div>
      </div>`;
    card.onclick=()=>card.classList.toggle("flip");
    cardsEl.appendChild(card);
  });
}

function loadPreset(){
  const p=presets[Math.floor(Math.random()*presets.length)];
  draw(p);
}

function loadRandom(){
  const keys=Object.keys(vocab);
  let letters=[];
  for(let i=0;i<5;i++){
    letters.push(keys[Math.floor(Math.random()*keys.length)]);
  }
  draw(letters);
}

loadPreset();
</script>

</body>
</html>
